name: üßπ Manage Stale Issues and PRs

on:
  schedule:
    - cron: '0 9 * * *'  # Run daily at 9 AM UTC
  workflow_dispatch:  # Allow manual trigger

jobs:
  stale:
    runs-on: ubuntu-latest
    permissions:
      issues: write
      pull-requests: write
    
    steps:
      - name: Stale Issues and PRs
        uses: actions/stale@v9
        with:
          repo-token: ${{ secrets.GITHUB_TOKEN }}
          
          # Days before marking as stale
          days-before-stale: 60
          days-before-close: 7
          
          # Messages
          stale-issue-message: |
            üëã –≠—Ç–æ—Ç issue –±—ã–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–º–µ—á–µ–Ω –∫–∞–∫ —É—Å—Ç–∞—Ä–µ–≤—à–∏–π –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ 60 –¥–Ω–µ–π.
            
            –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –≤—Å–µ –µ—â–µ –∞–∫—Ç—É–∞–ª—å–Ω–∞, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞:
            - üí¨ –û—Å—Ç–∞–≤—å—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
            - üîÑ –û–±–Ω–æ–≤–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
            - üè∑Ô∏è –î–æ–±–∞–≤—å—Ç–µ –º–µ—Ç–∫—É `keep-open`, –µ—Å–ª–∏ issue –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞—Ç—å—Å—è –æ—Ç–∫—Ä—ã—Ç—ã–º
            
            –ï—Å–ª–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –Ω–µ –±—É–¥–µ—Ç –≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∞ –≤ —Ç–µ—á–µ–Ω–∏–µ 7 –¥–Ω–µ–π, issue –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã—Ç.
            
            –°–ø–∞—Å–∏–±–æ –∑–∞ –≤–∞—à –≤–∫–ª–∞–¥! üôè
            
          stale-pr-message: |
            üëã –≠—Ç–æ—Ç Pull Request –±—ã–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–º–µ—á–µ–Ω –∫–∞–∫ —É—Å—Ç–∞—Ä–µ–≤—à–∏–π –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ 60 –¥–Ω–µ–π.
            
            –ï—Å–ª–∏ PR –≤—Å–µ –µ—â–µ –∞–∫—Ç—É–∞–ª–µ–Ω, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞:
            - üí¨ –û—Å—Ç–∞–≤—å—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
            - üîÑ –û–±–Ω–æ–≤–∏—Ç–µ –≤–µ—Ç–∫—É —Å –ø–æ—Å–ª–µ–¥–Ω–∏–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
            - üè∑Ô∏è –î–æ–±–∞–≤—å—Ç–µ –º–µ—Ç–∫—É `keep-open`, –µ—Å–ª–∏ PR –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞—Ç—å—Å—è –æ—Ç–∫—Ä—ã—Ç—ã–º
            
            –ï—Å–ª–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –Ω–µ –±—É–¥–µ—Ç –≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∞ –≤ —Ç–µ—á–µ–Ω–∏–µ 7 –¥–Ω–µ–π, PR –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã—Ç.
            
            –°–ø–∞—Å–∏–±–æ –∑–∞ –≤–∞—à –≤–∫–ª–∞–¥! üôè
            
          close-issue-message: |
            üîí –≠—Ç–æ—Ç issue –±—ã–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã—Ç –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.
            
            –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –≤—Å–µ –µ—â–µ –∞–∫—Ç—É–∞–ª—å–Ω–∞, –Ω–µ —Å—Ç–µ—Å–Ω—è–π—Ç–µ—Å—å –ø–µ—Ä–µ–æ—Ç–∫—Ä—ã—Ç—å –µ–≥–æ –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π issue —Å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π.
            
            –°–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–Ω–∏–º–∞–Ω–∏–µ! üíú
            
          close-pr-message: |
            üîí –≠—Ç–æ—Ç Pull Request –±—ã–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã—Ç –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.
            
            –ï—Å–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤—Å–µ –µ—â–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã, –Ω–µ —Å—Ç–µ—Å–Ω—è–π—Ç–µ—Å—å –ø–µ—Ä–µ–æ—Ç–∫—Ä—ã—Ç—å PR –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–º –∫–æ–¥–æ–º.
            
            –°–ø–∞—Å–∏–±–æ –∑–∞ –≤–∫–ª–∞–¥! üíú
          
          # Labels
          stale-issue-label: '‚è∞ stale'
          stale-pr-label: '‚è∞ stale'
          exempt-issue-labels: 'pinned,security,keep-open,priority-high,priority-critical'
          exempt-pr-labels: 'pinned,security,keep-open,priority-high,priority-critical,work-in-progress'
          
          # Additional settings
          ascending: true
          operations-per-run: 50
          remove-stale-when-updated: true
          
          # Different timings for different labels
          exempt-all-issue-assignees: false
          exempt-all-pr-assignees: false

